/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils"],function(t,e,r){"use strict";var n={};n.resolveCard=function(t){t.startManifestProcessing();return n._awaitReadyEvent(t).then(n._handleCardReady)};n._awaitReadyEvent=function(t){if(t.isReady()){return Promise.resolve(t)}return new Promise(function(e,r){t.attachEvent("_ready",function(r){e(t)})})};n._handleCardReady=function(n){var a=n.getManifestEntry("/");var i=[];var o=n.getFundamentalErrors();if(o.length){return Promise.reject(o.join(" "))}try{if(n.getAggregation("_filterBar")){i=n.getAggregation("_filterBar")._getFilters().map(function(t){return["/sap.card/configuration/filters/"+t.getKey(),t]})}i.concat([["/sap.card/content",n.getCardContent()],["/sap.card/header",n.getCardHeader()],["/sap.card",n]]).filter(function(t){return!!n.getManifestEntry(t[0])}).forEach(function(i){var o=i[0];var g=i[1];var s;var u;if(g.getStaticConfiguration){s=g.getStaticConfiguration()}else if(g._oCardOriginalContent&&g._oCardOriginalContent.getStaticConfiguration){s=g._oCardOriginalContent.getStaticConfiguration()}else{s=r.getNestedPropertyValue(a,o)}if(s.data){u=s.data.path;delete s.data}s=t.createBindingInfos(s,n.getBindingNamespaces());s=e.resolveValue(s,g,u);r.setNestedPropertyValue(a,o,s)});return JSON.stringify(a)}catch(t){return Promise.reject(t)}};return n});
//# sourceMappingURL=ManifestResolver.js.map