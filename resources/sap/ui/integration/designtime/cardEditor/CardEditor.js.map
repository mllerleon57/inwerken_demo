{"version":3,"file":"CardEditor.js","names":["sap","ui","define","CancelablePromise","_isEqual","_omit","_castArray","deepEqual","each","merge","deepClone","ObjectPath","isEmptyObject","BaseEditor","CardMerger","jQuery","oDefaultCardConfig","CardEditor","extend","metadata","library","properties","layout","type","defaultValue","designtimeChanges","baseUrl","config","i18n","concat","getMetadata","getProperty","getDefaultValue","constructor","mParameters","prototype","apply","this","arguments","setPreventInitialization","addConfig","renderer","getRenderer","addValueToDiff","oDiff","sObjectName","sName","sKey","vValue","getCardConfigurationDeltaForChange","oJson","oInitialJson","sNamespace","oConfiguration","get","oInitialConfiguration","undefined","oObject","oSubObject","oValue","configuration","init","attachJsonChange","oEvent","_oInitialJson","getParameter","setJson","getJson","sCardId","_bDesigntimeInit","_bCardId","_oDesigntimePromise","cancel","sDesigntimePath","sanitizePath","sBaseUrl","getBaseUrl","mPaths","sSanitizedBaseUrl","sDesigntimeRelativePath","trimCurrentFolderPrefix","sDesigntimeAbsolutePath","replace","loader","paths","sEditorConfigModule","sI18nModule","sDesigntimeMetadataPath","fnResolve","Promise","all","fnResolveEditorConfig","require","fnResolveMetadata","getJSON","done","fail","then","aDesigntimeFiles","oDesigntimeMetadata","mergeCardDesigntimeMetadata","getDesigntimeChanges","_oInitialDesigntimeMetadata","setDesigntimeMetadata","formatImportedDesigntimeMetadata","oConfig","push","_addSpecificConfig","bind","setDesigntimeChanges","aDesigntimeChanges","Error","setProperty","oFlatMetadata","oFormattedMetadata","Object","keys","forEach","sPath","set","split","__value","trim","getChanges","oPropertyBag","getDeltaChangeDefinition","catch","getDesigntimeChangeDefinition","aChanges","reject","runtimeChange","designtimeChange","createChangeDefinition","resolve","Change","oChangeDefinition","createInitialFileContent","creation","Date","toISOString","oOldValue","assign","oNewValue","_formatExportedDesigntimeMetadata","getDesigntimeMetadata","hasOwnProperty","propertyPath","operation","propertyValue","length","oCurrentJson","content","entityPropertyChange","changeType","generator","selector","reference"],"sources":["CardEditor-dbg.js"],"mappings":"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"}