{"version":3,"file":"PersistenceWriteAPI.js","names":["sap","ui","define","includes","_omit","Log","JsControlTreeModifier","FlexCustomData","ChangesController","DescriptorChangeTypes","Condenser","FlexObjectState","Storage","ManifestUtils","FeaturesAPI","Layer","LayerUtils","Settings","PersistenceWriteAPI","isDescriptorChange","oChange","_getMap","getChangeTypes","changeType","getChangeType","hasChanges","mPropertyBag","includeCtrlVariants","invalidateCache","_getUIChanges","then","aChanges","length","hasHigherLayerChanges","upToLayer","getCurrentLayer","getFlexObjects","aFlexObjects","filter","oFlexObject","isOverLayer","getLayer","aFilteredFlexObjects","save","saveFlexObjects","getResetAndPublishInfo","Promise","all","isPublishAvailable","aResetPublishInfo","bHasChanges","bIsPublishAvailable","bIsLayerTransportable","layer","USER","PUBLIC","oFlexInfo","isResetEnabled","isPublishEnabled","allContextsProvided","getFlexInfo","oResponse","undefined","catch","oError","error","message","getResetAndPublishInfoFromSession","oControl","sParameter","getFlexReferenceForControl","JSON","parse","window","sessionStorage","getItem","reset","oAppComponent","getAppComponentForSelector","selector","oFlexController","getFlexControllerInstance","aArguments","generator","selectorIds","changeTypes","resetChanges","apply","publish","styleClass","_oChangePersistence","transportAllUIChanges","appVariantDescriptors","add","change","store","addPreparedChange","remove","resolve","reject","Error","getId","oDescriptorFlexController","getDescriptorFlexControllerInstance","deleteChange","oElement","bySelector","getSelector","sync","destroyAppliedCustomData","getChangesWarning","this","bHasChangesFromOtherSystem","some","isChangeFromOtherSystem","oSettingsInstance","getInstanceOrUndef","isProductiveSystemWithTransports","bHasNoChanges","oChangesWarning","showWarning","warningType","_condense","changes","Array","isArray","condense","currentLayer"],"sources":["PersistenceWriteAPI-dbg.js"],"mappings":"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"}