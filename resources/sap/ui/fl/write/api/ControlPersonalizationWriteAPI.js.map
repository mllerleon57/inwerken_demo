{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Core","Element","VariantUtils","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","getAllVariantManagementReferences","aVMControlIds","getAllVariantManagementControlIds","reduce","aValidIds","oForControls","byId","getFor","length","push","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oFlexController","createForControl","oVariantModel","getModel","VARIANT_MODEL_NAME","USER","aSuccessfulChanges","createChanges","aAddedChanges","pPromise","oPersonalizationChange","then","ignoreVariantManagement","variantReference","sVariantManagementReference","useStaticArea","sCurrentVariantReference","oData","currentVariant","Object","assign","developerMode","layer","addChange","oAddedChange","changeInstance","catch","oError","message","applyChanges","applyChange","oAppliedChange","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","getId","sLocalId","getLocalId","resetChanges","undefined","changeTypes","restore","selector","removeDirtyChanges","generator","save","aVariantManagementReferences","saveSequenceOfDirtyChanges","oResponse","checkDirtyStateForControlModels","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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"}