{"version":3,"file":"Condenser.js","names":["sap","ui","define","each","isPlainObject","Log","JsControlTreeModifier","Core","CondenserClassification","ChangesUtils","LastOneWins","Reverse","UIReconstruction","CondenserUtils","Change","FlUtils","Measurement","Condenser","UNCLASSIFIED","NON_INDEX_RELEVANT","lastOneWins","reverse","PROPERTIES_WITH_SELECTORS","isCreateAfterMoveSubtype","mSubtypes","oCondenserInfo","aMoveSubType","Move","classification","Create","length","targetContainer","isMoveAfterDestroySubtype","Destroy","isCreateAfterDestroySubtype","mClassifications","addIndexRelatedChange","mUIReconstructions","oChange","sClassification","change","condenserState","updateChange","forEach","addChange","addClassifiedChange","mTypes","aIndexRelatedChanges","type","NOT_INDEX_RELEVANT","mProperties","addToChangesMap","uniqueKey","Promise","resolve","push","addUnclassifiedChange","sKey","getCondenserInfoFromChangeHandler","oAppComponent","sControlId","getControlIdBySelector","getSelector","oControl","byId","mPropertyBag","modifier","appComponent","view","getViewForControl","mControl","getControlIfTemplateAffected","getChangeHandler","then","oChangeHandler","getCondenserInfo","undefined","bTemplateAffected","replaceTemplateSelector","catch","oOriginalSelector","getOriginalSelector","oTemplateSelector","sPropertyName","getTypesMap","mReducedChanges","sAffectedControlId","affectedControl","defineMaps","aChanges","reduce","oPromise","addChangeToMap","bind","this","changeSelectorsToIdsInCondenserInfo","addType","INDEX_RELEVANT","getChanges","mObjects","vSubObjects","getChangesFromMap","Array","isArray","oObject","getAllReducedChanges","getCondenserInfos","aCondenserInfos","sortByInitialOrder","aReducedChanges","sort","a","b","indexOf","sortCondenserInfosByInitialOrder","addAllIndexRelatedChanges","aReducedChangeIds","map","getId","handleChangeUpdate","oUpdateChange","getState","states","NEW","oCondensedChange","oNewContent","getContent","setContent","setState","DIRTY","condense","start","aAllIndexRelatedChanges","aNotCondensableChanges","aCondensableChanges","slice","isSuccessfullyApplied","end","bUnclassifiedChanges","compareAndUpdate","concat","bSuccess","aReducedIndexRelatedChanges","sortIndexRelatedChanges","oError","error","message","swapChanges"],"sources":["Condenser-dbg.js"],"mappings":"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"}