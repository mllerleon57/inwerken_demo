{"version":3,"file":"FlexObjectState.js","names":["sap","ui","define","_omit","FlexState","ManifestUtils","States","ChangesController","CompVariantState","CompVariantMerger","VariantManagementState","ChangePersistenceFactory","LayerUtils","CompVariantsUtils","Utils","FlexObjectState","initFlexStateAndSetReference","mPropertyBag","reference","getFlexReferenceForControl","selector","initialize","componentId","getAppComponentForControl","getId","componentData","manifest","getCompVariantEntities","mCompEntities","getCompVariantsMap","aEntities","invalidateCache","oDataToRestore","getInitialNonFlCompVariantData","Object","keys","forEach","sPersistencyKey","_initialize","variants","merge","standardVariant","mCompVariantsOfPersistencyKey","sId","byId","push","filterChangeOrChangeDefinitionsByCurrentLayer","currentLayer","saveCompEntities","sReference","persistAll","getChangePersistence","oAppComponent","getAppComponentForSelector","getChangePersistenceForComponent","filterChangesByCurrentVariants","aChanges","oControl","oComponent","oModel","getModel","VARIANT_MODEL_NAME","sFlexReference","aVariantManagementReferences","getVariantManagementReferences","length","aCurrentVariantReferences","map","sVMReference","getCurrentVariantReference","filter","oChange","some","sCurrentVariantReference","getVariantReference","getChangePersistenceEntities","oChangePersistence","getChangesForComponent","then","aPersistedChanges","aDirtyChanges","includeDirtyChanges","getDirtyChanges","concat","onlyCurrentVariants","saveChangePersistenceEntities","oFlexController","getFlexControllerInstance","oDescriptorFlexController","getDescriptorFlexControllerInstance","saveAll","skipUpdateCache","draft","layer","removeOtherLayerChanges","bind","getFlexObjects","aChangePersistenceEntities","getDirtyFlexObjects","aCompVariantEntities","oFlexObject","getState","PERSISTED","saveFlexObjects","Promise","all"],"sources":["FlexObjectState-dbg.js"],"mappings":"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"}