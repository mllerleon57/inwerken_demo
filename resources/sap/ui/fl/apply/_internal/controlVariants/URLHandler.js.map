{"version":3,"file":"URLHandler.js","names":["sap","ui","define","Component","Utils","Log","merge","ObjectPath","isEmptyObject","ManagedObjectObserver","hasher","includes","VariantUtil","VariantManagementState","_mVariantIdChangeHandlers","URLHandler","_getUpdatedURLParameters","aNewHashParameters","oModel","aAddedVMReferences","reduce","oResultantParameters","sVariantReference","sVariantManagementReference","getVariantManagementReference","variantManagementReference","updateRequired","push","oData","currentVariant","defaultVariant","parameters","_checkAndUpdateURLParameters","oParsedHash","vRelevantParameters","get","VARIANT_TECHNICAL_PARAMETER","oUpdatedParameters","update","updateURL","_bDesignTimeMode","updateHashEntry","model","_handleVariantIdChangeInURL","sNewHash","oURLParsingService","getUShellService","oNewParsedHash","parseShellHash","oError","error","message","oShellNavigationService","NavigationFilterStatus","Continue","_registerNavigationFilter","sFlexReference","bind","registerNavigationFilter","_deRegisterNavigationFilter","unregisterNavigationFilter","setTechnicalURLParameterValues","mPropertyBag","oCrossApplicationNavigationService","getHash","params","mTechnicalParameters","oAppComponent","getComponentData","technicalParameters","warning","length","silent","changed","active","replaceHash","constructShellHash","toExternal","target","semanticObject","action","context","contextRaw","appSpecificRoute","writeHistory","getVariantIndexInURL","mReturnObject","index","mURLParameters","getStoredHashParams","Array","isArray","map","decodeURIComponent","some","sParamDecoded","iIndex","bVariantExistsForParameter","getVariant","vmReference","vReference","reference","oChangePersistence","getComponentName","variantTechnicalParameterName","initialize","aParams","attachHandlers","updateVariantInURL","mUpdatedParameters","removeURLParameterForVariantManagement","aParameters","bIsDefaultVariant","newVReference","concat","slice","mVariantParametersInURL","splice","observerHandler","_oVariantSwitchPromise","then","_oHashData","controlPropertyObservers","forEach","oObserver","destroy","oComponentDestroyObserver","unobserve","observe","registerControl","variantControlIds","hashParams","info","prototype","call","handleModelContextChange","sContextChangeEvent","handleContextChange","oEvent","oParams","getVariantManagementReferenceForControl","getSource","aVariantManagements","indexOf","sVariantManagementToBeReset","switchToDefaultForVariantManagement","oControlPropertyObserver","current","old","object","attachEvent","detachEvent","vmControl","properties","getResetOnContextChange","clearAllVariantURLParameters"],"sources":["URLHandler-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,wBACA,kBACA,eACA,sBACA,2BACA,8BACA,oCACA,2BACA,yBACA,kDACA,8EACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAA4B,CAAC,EAUhC,IAAIC,EAAa,CAAC,EAYnB,SAASC,EAAyBC,EAAoBC,GACrD,IAAIC,EAAqB,GACzB,OAAOF,EAAmBG,OAAO,SAASC,EAAsBC,GAC/D,IAAIC,EAA8BL,EAAOM,8BAA8BF,GAAmBG,2BAE1F,GAAIF,EAA6B,CAEhC,GAAIZ,EAASQ,EAAoBI,GAA8B,CAC9DF,EAAqBK,eAAiB,KACtC,OAAOL,CACR,CACAF,EAAmBQ,KAAKJ,EACzB,CAEA,GAAIA,GAA+BL,EAAOU,MAAML,GAA6BM,iBAAmBP,EAAmB,CAClHD,EAAqBK,eAAiB,KACtC,GAAIR,EAAOU,MAAML,GAA6BM,iBAAmBX,EAAOU,MAAML,GAA6BO,eAAgB,CAG1HT,EAAqBU,WAAWJ,KAAKT,EAAOU,MAAML,GAA6BM,eAChF,CACD,KAAO,CAENR,EAAqBU,WAAWJ,KAAKL,EACtC,CAEA,OAAOD,CACR,EAAG,CAACK,eAAgB,MAAOK,WAAY,IACxC,CAEA,SAASC,EAA6BC,EAAaf,GAClD,IAAIgB,EAAsB3B,EAAW4B,IAAI,CAAC,SAAUvB,EAAYwB,6BAA8BH,GAC9F,GAAIC,EAAqB,CACxB,IAAIG,EAAqBrB,EAAyBkB,EAAqBhB,GACvE,GAAImB,EAAmBX,eAAgB,CACtCX,EAAWuB,OAAO,CACjBC,WAAYrB,EAAOsB,iBACnBT,WAAYM,EAAmBN,WAC/BU,gBAAiB,KACjBC,MAAOxB,GAET,CACD,CACD,CAcA,SAASyB,EAA4BzB,EAAQ0B,GAE5C,IACC,IAAIC,EAAqB3B,EAAO4B,iBAAiB,cACjD,GAAID,EAAoB,CACvB,IAAIE,EAAiBF,EAAmBG,eAAeJ,GACvDZ,EAA6Be,EAAgB7B,EAC9C,CAGD,CAFE,MAAO+B,GACR5C,EAAI6C,MAAMD,EAAOE,QAClB,CACA,IAAIC,EAA0BlC,EAAO4B,iBAAiB,mBACtD,OAAOM,GAA2BA,EAAwBC,uBAAuBC,QAClF,CASA,SAASC,EAA0BrC,GAClC,IAAIkC,EAA0BlC,EAAO4B,iBAAiB,mBACtD,IAAKhC,EAA0BI,EAAOsC,gBAAiB,CACtD1C,EAA0BI,EAAOsC,gBAAkBb,EAA4Bc,KAAK,KAAMvC,GAC1F,GAAIkC,EAAyB,CAC5BA,EAAwBM,yBAAyB5C,EAA0BI,EAAOsC,gBACnF,CACD,CACD,CASA,SAASG,EAA4BzC,GACpC,IAAIkC,EAA0BlC,EAAO4B,iBAAiB,mBACtD,GAAIM,EAAyB,CAC5BA,EAAwBQ,2BAA2B9C,EAA0BI,EAAOsC,wBAC7E1C,EAA0BI,EAAOsC,eACzC,CACD,CAcA,SAASK,EAA+BC,GACvC,IAAI5C,EAAS4C,EAAapB,MAC1B,IAAIG,EAAqB3B,EAAO4B,iBAAiB,cACjD,IAAIiB,EAAqC7C,EAAO4B,iBAAiB,8BACjE,IAAIb,EAAcY,GAAsBA,EAAmBG,eAAetC,EAAOsD,WAEjF,GAAI/B,GAAeA,EAAYgC,OAAQ,CACtC,IAAIC,EAAuBhD,EAAOiD,eAC9BjD,EAAOiD,cAAcC,kBACrBlD,EAAOiD,cAAcC,oBACrBlD,EAAOiD,cAAcC,mBAAmBC,oBAE5C,IAAKH,EAAsB,CAC1B7D,EAAIiE,QAAQ,kHACb,CACA,GAAIR,EAAa/B,WAAWwC,SAAW,EAAG,QAClCtC,EAAYgC,OAAOrD,EAAYwB,6BACtC8B,UAA+BA,EAAqBtD,EAAYwB,4BACjE,KAAO,CACNH,EAAYgC,OAAOrD,EAAYwB,6BAA+B0B,EAAa/B,WAC3EmC,IAAyBA,EAAqBtD,EAAYwB,6BAA+B0B,EAAa/B,WACvG,CAEA,GAAI+B,EAAaU,OAAQ,CACxB9D,EAAO+D,QAAQC,OAAS,MACxBhE,EAAOiE,YAAY9B,EAAmB+B,mBAAmB3C,IACzDvB,EAAO+D,QAAQC,OAAS,IACzB,KAAO,CACNX,EAAmCc,WAAW,CAC7CC,OAAQ,CACPC,eAAgB9C,EAAY8C,eAC5BC,OAAQ/C,EAAY+C,OACpBC,QAAShD,EAAYiD,YAEtBjB,OAAQhC,EAAYgC,OACpBkB,iBAAkBlD,EAAYkD,iBAC9BC,aAAc,OAEhB,CACD,CACD,CAeA,SAASC,EAAqBvB,GAC7B,IAAIwB,EAAgB,CAACC,OAAQ,GAC7B,IAAIrE,EAAS4C,EAAapB,MAG1B,IAAIG,EAAqB3B,EAAO4B,iBAAiB,cACjD,IAAI0C,EAAiB3C,GAAsBA,EAAmBG,eAAetC,EAAOsD,WAAWC,OAE/F,GAAIuB,EAAgB,CACnBF,EAAcvD,WAAa,GAG3B,GAAIb,EAAOsB,iBAAkB,CAC5BgD,EAAe5E,EAAYwB,6BAA+BrB,EAAW0E,oBAAoB3B,EAC1F,CAEA,GAAI4B,MAAMC,QAAQH,EAAe5E,EAAYwB,8BAA+B,CAC3EoD,EAAe5E,EAAYwB,6BAA+BoD,EAAe5E,EAAYwB,6BAA6BwD,IAAIC,oBACtHL,EAAe5E,EAAYwB,6BAA6B0D,KAAK,SAASC,EAAeC,GACpF,IAAIC,EAA6BpF,EAAuBqF,WAAW,CAClEC,YAAarC,EAAaqC,YAC1BC,WAAYL,EACZM,UAAWnF,EAAOoF,mBAAmBC,qBAEtC,GAAIN,EAA4B,CAC/BX,EAAcC,MAAQS,EACtB,OAAO,IACR,CACD,EACD,CACD,CACA,OAAO1F,EACNgF,EACAE,GAAkBA,EAAe5E,EAAYwB,8BAAgC,CAACL,WAAYyD,EAAe5E,EAAYwB,8BAEvH,CAGArB,EAAWyF,8BAAgC,+BAY1CzF,EAAW0F,WAAa,SAAS3C,GACjC,IAAI5C,EAAS4C,EAAapB,MAC1B,IAAIG,EAAqB3B,EAAO4B,iBAAiB,cAEjD,IAAIb,EAAcY,GAAsBA,EAAmBG,eAAetC,EAAOsD,WACjF,IAAI0C,EAAUzE,GAAeA,EAAYgC,QAAUhC,EAAYgC,OAAOrD,EAAYwB,6BAGlFrB,EAAW4F,eAAe7C,GAG1B/C,EAAWuB,OAAO,CACjBI,MAAOxB,EACPa,WAAY2E,EACZjE,gBAAiBiD,MAAMC,QAAQe,IAAYA,EAAQnC,OAAS,IAI7DvC,EAA6BC,EAAaf,EAC3C,EAaCH,EAAW6F,mBAAqB,SAAS9C,GAEzC,IAAI+C,EAAqB9F,EAAW+F,uCAAuChD,GAG3E,IAAK+C,EAAmB9E,WAAY,CACnC,MACD,CAEA,IAAIgF,EAAcF,EAAmB9E,YAAc,GACnD,IAAIiE,EAASa,EAAmBtB,MAChC,IAAIyB,EAAoBlD,EAAamD,gBAAkBnD,EAAapB,MAAMd,MAAMkC,EAAaqC,aAAarE,eAG1G,IAAKkF,EAAmB,CACvB,GAAIhB,KAAY,EAAG,CAClBe,EAAcA,EAAYG,OAAO,CAACpD,EAAamD,eAChD,KAAO,CAENF,EAAcA,EAAYI,MAAM,EAAGnB,GAAQkB,OAAO,CAACpD,EAAamD,eAAgBF,EAAYI,MAAMnB,GACnG,CACD,CAGA,IAAKgB,GAAqBhB,GAAU,EAAG,CACtCjF,EAAWuB,OAAO,CACjBP,WAAYgF,EACZxE,WAAYuB,EAAapB,MAAMF,iBAC/BC,gBAAiB,KACjBC,MAAOoB,EAAapB,OAEtB,CACD,EAcC3B,EAAW+F,uCAAyC,SAAShD,GAC7D,IAAIsD,EAA0B/B,EAAqBvB,GACnD,GAAIsD,EAAwB7B,OAAS,EAAG,CACvC6B,EAAwBrF,WAAWsF,OAAOD,EAAwB7B,MAAO,EAC1E,CACA,OAAO6B,CACR,EAaCrG,EAAW4F,eAAiB,SAAS7C,GACrC,SAASwD,IAGR,OAAOxD,EAAapB,MAAM6E,uBAAuBC,KAAK,WACrD1D,EAAapB,MAAM+E,WAAWC,yBAAyBC,QAAQ,SAASC,GACvEA,EAAUC,SACX,GAEAlE,EAA4BG,EAAapB,OAKzCoB,EAAapB,MAAMmF,UACnB/D,EAAapB,MAAMoF,0BAA0BC,UAAUjE,EAAapB,MAAMyB,cAAe,CAAC0D,QAAS,OACnG/D,EAAapB,MAAMoF,0BAA0BD,SAC9C,EACD,CAGAtE,EAA0BO,EAAapB,OAEvC,IAAKoB,EAAapB,MAAMoF,2BAA6BhE,EAAapB,MAAMyB,yBAAyBhE,EAAW,CAC3G2D,EAAapB,MAAMoF,0BAA4B,IAAIrH,EAAsB6G,EAAgB7D,KAAK,OAC9FK,EAAapB,MAAMoF,0BAA0BE,QAAQlE,EAAapB,MAAMyB,cAAe,CAAC0D,QAAS,MAClG,CACD,EAaC9G,EAAWkH,gBAAkB,SAASnE,GACtC,GAAIA,EAAavB,UAAW,CAC3BuB,EAAapB,MAAM+E,WAAWS,kBAAkBvG,KAAKmC,EAAaqC,YACnE,CACD,EAeCpF,EAAWuB,OAAS,SAASwB,GAC7B,IAAKA,EAAapB,MAAM+E,WAAY,CACnC3D,EAAapB,MAAM+E,WAAa,CAC/BU,WAAY,GACZT,yBAA0B,GAC1BQ,kBAAmB,GAErB,CACA,IAAKpE,IAAiB4B,MAAMC,QAAQ7B,EAAa/B,YAAa,CAC7D1B,EAAI+H,KAAK,sFACT,MACD,CACA,GAAItE,EAAavB,UAAW,CAC3BsB,EAA+BC,EAChC,CACA,GAAIA,EAAarB,kBAAoBjC,EAAcsD,EAAapB,OAAQ,CACvEoB,EAAapB,MAAM+E,WAAWU,WAAarE,EAAa/B,UACzD,CACD,EAcChB,EAAW0E,oBAAsB,SAAS3B,GAC1C,OAAO4B,MAAM2C,UAAUlB,MAAMmB,KAAKxE,EAAapB,MAAM+E,WAAWU,WACjE,EAaCpH,EAAWwH,yBAA2B,SAASzE,GAC/C,IAAI0E,EAAsB,qBAE1B,SAASC,EAAoBC,EAAQC,GACpC,IAAIpH,EAA8BoH,EAAQjG,MAAMkG,wCAAwCF,EAAOG,aAC/F,IAAIC,EAAsBH,EAAQjG,MAAM+E,WAAWS,kBAEnD,IAAIlC,EAAS8C,EAAoBC,QAAQxH,GACzC,GAAIyE,GAAU,EAAG,CAEhB8C,EAAoB3B,MAAMnB,GAAQ2B,QACjC,SAASqB,GACR,GAAI3D,EAAqB,CACxBc,YAAa6C,EACbtG,MAAOoB,EAAapB,QAClB6C,SAAW,EAAG,CAChBoD,EAAQjG,MAAMuG,oCAAoCD,EACnD,CACD,EAEF,CACD,CAEA,IAAIE,EAA2B,IAAIzI,EAAsB,SAASiI,GACjE,GAAIA,EAAOS,UAAY,MAAQT,EAAOU,MAAQ,MAAO,CACpDV,EAAOW,OAAOC,YAAYd,EAAqB,CAAC9F,MAAOoB,EAAapB,OAAQ+F,EAC7E,MAAO,GAAIC,EAAOS,UAAY,OAAST,EAAOU,MAAQ,KAAM,CAC3DV,EAAOW,OAAOE,YAAYf,EAAqBC,EAChD,CACD,GAEAS,EAAyBlB,QAAQlE,EAAa0F,UAAW,CAACC,WAAY,CAAC,0BAEvE3F,EAAapB,MAAM+E,WAAWC,yBAAyB/F,KAAKuH,GAE5D,GAAIpF,EAAa0F,UAAUE,4BAA8B,MAAO,CAC/D5F,EAAa0F,UAAUF,YAAYd,EAAqB,CAAC9F,MAAOoB,EAAapB,OAAQ+F,EACtF,CACD,EAWC1H,EAAW4I,6BAA+B,SAAS7F,GACnD/C,EAAWuB,OAAO,CACjBC,UAAW,KACXR,WAAY,GACZU,gBAAiB,MACjBC,MAAOoB,EAAapB,OAEtB,EAEA,OAAO3B,CACR"}