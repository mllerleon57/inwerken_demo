/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","./Dialog","./library","sap/ui/core/Control","./MessageRenderer","./Button","sap/ui/dom/jquery/rect"],function(jQuery,t,e,s,i,o){"use strict";var n=s.extend("sap.ui.commons.Message",{metadata:{deprecated:true,library:"sap.ui.commons",properties:{type:{type:"sap.ui.commons.MessageType",group:"Behavior",defaultValue:null},text:{type:"string",group:"Data",defaultValue:null},associatedElementId:{type:"string",group:"Data",defaultValue:null},design:{type:"string",group:"Misc",defaultValue:null}}}});n.prototype.init=function(){this.isRTL=sap.ui.getCore().getConfiguration().getRTL();this.fnCallBack=null;this.oLink=null;this.oContainer=null;this.oDetails=null;this.oBtnOK=null};n.prototype.exit=function(){if(this.oLink){this.oLink.destroy();this.oLink=null}if(this.oDetails){this.oDetails.destroy();this.oDetails=null}if(this.oContainer){this.oContainer.destroy();this.oContainer=null}if(this.oBtnOK){this.oBtnOK.destroy();this.oBtnOK=null}};n.closeDetails=function(t){t.getSource().getParent().close()};n.prototype.closeDetails=function(){if(this.oContainer){this.oContainer.close()}};n.prototype.openDetails=function(){if(!this.oContainer){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.commons");var s=e.getText("MSGBAR_DETAILS_DIALOG_CLOSE");var i=e.getText("MSGBAR_DETAILS_DIALOG_TITLE");var a=this.fnCallBack(this.getId());this.oDetails=new n({type:this.getType(),text:a});this.oBtnOK=new o({text:s,press:n.closeDetails});this.oContainer=new t;this.oContainer.addContent(this.oDetails);this.oContainer.setTitle(i);this.oContainer.addButton(this.oBtnOK)}var r=this.oContainer.getId();var l=0;var f=jQuery(".sapUiDlg");for(var p=f.length-1;p>=0;p--){if(jQuery(f[p]).css("visibility")!="visible"){f.splice(p,1)}else if(f[p].id==r){f.splice(p,1)}else{l=Math.max(l,jQuery(f[p]).css("zIndex"))}}var u=this.oContainer.isOpen();this.oContainer.open();var h=this.oContainer.$();var c=h.rect();if(f.length==0){if(this.isRTL){c.left=Number(h.css("right").replace("px",""))}this.setLastOffsets(c);return}if(u){if(l>h.css("zIndex")){h.css("zIndex",l+1)}return}var d=this.getNextOffsets();h.css("top",d.top-n.TOP_INCR+"px");if(this.isRTL){h.css("right",d.left-n.LEFT_INCR+"px")}else{h.css("left",d.left-n.LEFT_INCR+"px")}var c=h.rect();var g=jQuery(window).scrollTop();var C=jQuery(window).scrollLeft();var L=-C;if(jQuery(window).height()+g<d.top+c.height){d.top=g;this.setLastOffsets(d)}if(this.isRTL){if(jQuery(window).width()+L<d.left+c.width){d.left=L;this.setLastOffsets(d)}h.animate({top:d.top+"px",right:d.left+"px"},200)}else{if(jQuery(window).width()+C<d.left+c.width){d.left=C;this.setLastOffsets(d)}h.animate({top:d.top+"px",left:d.left+"px"},200)}};n.TOP_INCR=20;n.LEFT_INCR=10;var a=null;n.setLastOffsets=function(t){a=t};n.prototype.setLastOffsets=function(t){n.setLastOffsets(t)};n.getNextOffsets=function(){a.top+=n.TOP_INCR;a.left+=n.LEFT_INCR;return a};n.prototype.getNextOffsets=function(){return n.getNextOffsets()};n.prototype.bindDetails=function(t){this.fnCallBack=t};return n});
//# sourceMappingURL=Message.js.map