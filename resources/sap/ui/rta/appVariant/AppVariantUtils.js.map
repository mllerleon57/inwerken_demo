{"version":3,"file":"AppVariantUtils.js","names":["sap","ui","define","FlexUtils","MessageBox","RtaUtils","BusyIndicator","uid","Log","PersistenceWriteAPI","AppVariantWriteAPI","ChangesWriteAPI","LrepConnector","AppVariantUtils","HANA_CLOUD_ID_LENGTH","_newAppVariantId","getManifirstSupport","sRunningAppId","appVariant","appId","getNewAppVariantId","setNewAppVariantId","sNewAppVariantID","trimIdIfRequired","sId","length","aIdStrings","split","sTrimmedId","sGuidLength","sGuidString","pop","join","substring","substr","this","getId","sBaseAppID","sChangedId","bRegFound","regex","forEach","sString","index","array","match","replace","createAppVariant","vSelector","mPropertyBag","version","saveAs","Object","assign","selector","getInlineChangeInput","sValue","sComment","type","maxLength","comment","value","prepareTextsChange","sPropertyName","sPropertyValue","getInlineChangeInputIcon","sIconValue","content","icon","prepareRemoveAllInboundsExceptOneChange","sInboundValue","inboundId","getInboundInfo","oInbounds","oInboundInfo","currentRunningInbound","addNewInboundRequired","Promise","resolve","getUShellService","then","oURLParsingService","getParsedURLHash","oParsedHash","aInbounds","keys","aInboundsFound","sInboundId","action","semanticObject","push","getInboundPropertiesKey","sAppVariantId","sCurrentRunningInboundId","getInlineChangeForInboundPropertySaveAs","entityPropertyChange","propertyPath","operation","propertyValue","required","filter","format","launcherValue","prepareAddNewInboundChange","oAppVariantSpecificData","oProperty","inbound","texts","sInboundTitleKey","referenceAppId","sInboundSubTitleKey","title","subTitle","signature","parameters","additionalParameters","bind","prepareChangeInboundChange","createInlineChange","oPropertyChange","sInlineChangeType","oChangeSpecificData","changeType","create","changeSpecificData","addChangesToPersistence","aAllInlineChanges","oChange","add","change","getTransportInput","sPackageName","sNameSpace","sName","sType","getPackage","getNamespace","getDefinition","fileType","triggerCatalogAssignment","sLayer","sReferenceAppId","assignCatalogs","assignFromAppId","layer","triggerCatalogUnAssignment","unassignCatalogs","isS4HanaCloud","oSettings","isAtoEnabled","isAtoAvailable","copyId","textArea","document","createElement","body","appendChild","select","execCommand","removeChild","getTextResources","getCore","getLibraryResourceBundle","getText","sMessageKey","sText","oTextResources","_getErrorMessageText","oError","sErrorMessage","messages","map","text","iamAppId","stack","message","status","buildErrorInfo","sMessage","error","appVariantId","buildSuccessInfo","bSaveAsTriggeredFromRtaToolbar","bIsS4HanaCloud","sSystemTag","sOverviewList","undefined","buildFinalSuccessInfoS4HANACloud","buildDeleteSuccessMessage","sMessageTitle","showRelevantDialog","oInfo","bSuccessful","hide","sTitle","sRightButtonText","sOKButtonText","sCopyIdButtonText","aActions","deleteAppVariant","reject","fnCallback","sAction","overviewDialog","show","Icon","INFORMATION","ERROR","onClose","actions","styleClass","getRtaStyleClassName","closeOverviewDialog","getEventBus","publish","navigateToFLPHomepage","oUshellContainer","getUshellContainer","oComponentInstance","getServiceAsync","oAppConfiguration","oApplication","getCurrentApplication","componentInstance","oCrossAppNav","toExternal","target","shellHash","catch","vError","Error","handleBeforeUnloadEvent","showMessage","catchErrorDialog","sIAMId","oErrorInfo"],"sources":["AppVariantUtils-dbg.js"],"mappings":"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"}