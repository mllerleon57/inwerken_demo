{"version":3,"file":"CommandBuilder.js","names":["sap","ui","define","Log","ElementUtil","OverlayRegistry","DtUtils","FlUtils","Utils","CommandBuilder","getRevealDataFromActions","mActions","oRevealedElement","mRevealData","reveal","elements","some","mElement","element","getId","undefined","createCommandsForInvisibleElement","mPropertyBag","oCompositeCommand","compositeCommand","oSelectedElement","selectedElement","mParents","parents","oSiblingElement","siblingElement","actions","iIndex","index","sTargetAggregation","targetAggregation","oPlugin","plugin","createRevealCommandForInvisible","then","oRevealCommandForInvisible","addCommand","createMoveCommandForInvisible","oMoveCommandForInvisible","warning","parent","getMetadata","getName","aggregation","mSelectedElement","getElementInstance","elementId","oRevealedElementOverlay","getOverlay","oDesignTimeMetadata","designTimeMetadata","oRevealAction","action","sVariantManagementReference","getVariantManagementReference","changeOnRelevantContainer","getCommandFactory","getCommandFor","revealedElementId","directParent","sTargetAggregationName","sSourceAggregationName","sourceAggregation","oSourceParent","getParentElementOverlay","getElement","oTargetParent","iRevealTargetIndex","getIndex","iRevealedSourceIndex","adjustIndexForMove","getParent","oSourceParentOverlay","getParentAggregationOverlay","relevantContainerOverlay","SourceParentDesignTimeMetadata","getDesignTimeMetadata","relevantContainer","movedElements","sourceIndex","targetIndex","source","target","Promise","resolve","areLibDependenciesMissing","oComponent","mRequiredLibraries","mAppsLibDependencies","getManifestEntry","Object","keys","sRequiredLib","createCommandForAddLibrary","oParentAggregationDTMetadata","getAppComponentForControl","bLibsMissing","mManifest","getManifest","sReference","id","publicParent","reference","parameters","libraries","appComponent","createCommandsForAddViaDelegate","mAddViaDelegateAction","addViaDelegate","delegateInfo","requiredLibraries","oParentAggregationOverlay","parentOverlay","getAggregationOverlay","oCommandForAddLibrary","createAddViaDelegateCommand","oAddViaDelegateCommand","getODataServiceUriFromManifest","oManifest","sUri","oSapApp","getEntry","dataSources","mainService","uri","oParent","oParentOverlay","iAddTargetIndex","getData","sCommandName","sServiceUri","newControlId","createFieldLabelId","entityType","bindingPath","bindingString","parentId","propertyName","name","oDataServiceVersion","oDataServiceUri","modelType","relevantContainerId","createCommands","aSelectedElements","sort","oElement1","oElement2","label","length","oPromise","forEach","type","bind","this","error","fireElementModified","command","catch","vMessage","propagateError"],"sources":["CommandBuilder-dbg.js"],"mappings":"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"}