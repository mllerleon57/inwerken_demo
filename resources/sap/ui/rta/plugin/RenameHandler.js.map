{"version":3,"file":"RenameHandler.js","names":["sap","ui","define","BindingParser","jQuery","Device","Plugin","Overlay","ElementUtil","OverlayRegistry","Utils","DOMUtil","KeyCodes","OverlayUtil","sEmptyTextKey","checkPreconditionsAndThrowError","sNewText","sOldText","Error","oBindingParserResult","bError","complexParser","undefined","error","getCore","getLibraryResourceBundle","getText","RenameHandler","errorStyleClass","validators","noEmptyText","validatorFunction","errorMessage","_manageClickEvent","vEventOrElement","oOverlay","getSource","isSelected","this","isRenameAvailable","isRenameEnabled","attachBrowserEvent","_onClick","detachBrowserEvent","_setEditableFieldPosition","_$editableField","offset","left","_$oEditableControlDomRef","top","startEdit","mPropertyBag","setBusy","_oEditedOverlay","overlay","oElement","getElement","oDesignTimeMetadata","getDesignTimeMetadata","vEditableControlDomRef","getAssociatedDomRef","domRef","isElementInViewport","get","scrollIntoView","mMutators","getTextMutators","text","bind","setText","_fnGetControlText","_fnSetControlText","iWidthDifference","oOverlayForWrapper","getOverlay","id","_$ControlForWrapperDomRef","getDomRef","_$oEditableControlParentDomRef","parent","iControlForWrapperWidth","parseInt","outerWidth","isNaN","iEditableControlWidth","iEditableControlParentWidth","children","length","_$oWrapper","css","overflow","width","appendTo","$","sCurrentText","setOldValue","_getCurrentEditableFieldText","call","copyComputedStyle","remove","browser","name","getMetadata","getName","getMutationObserver","ignoreOnce","target","one","_onEditableFieldFocus","on","_onEditableFieldBlur","_onEditableFieldKeydown","_stopPropagation","apply","trigger","_aOverlaysWithScrollbar","findParentOverlaysWithScrollbar","forEach","oOverlayWithScrollbar","attachScrollSynced","setSelected","getEventBus","publish","pluginMethodName","editableField","_setDesignTime","oDesignTime","_aSelection","oOldDesignTime","getDesignTime","getSelectionManager","detachChange","_onDesignTimeSelectionChange","prototype","setDesignTime","arguments","attachChange","getSelectedOverlays","oEvent","aSelection","getParameter","stopPropagation","_preventDefault","preventDefault","el","range","document","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","_stopEdit","bRestoreFocus","sPluginMethodName","find","focus","detachScrollSynced","_bBlurOrKeyDownStarted","_handlePostRename","removeStyleClass","Promise","resolve","then","_validateNewText","_emitLabelChangeEvent","catch","oError","message","fnErrorHandler","stopEdit","_handleInvalidRename","sErrorMessage","showMessageBox","titleKey","setIgnoreEnterKeyUpOnce","addStyleClass","sErrorText","getOldValue","oResponsibleOverlay","getResponsibleElementOverlay","oRenameAction","getAction","aValidators","some","vValidator","oValidator","keyCode","ENTER","ESCAPE","DELETE","sText","trim","byId","currentTarget","metaKey","ctrlKey","_exit"],"sources":["RenameHandler-dbg.js"],"mappings":"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"}