{"version":3,"file":"LREPSerializer.js","names":["sap","ui","define","ManagedObject","FlexCommand","AppDescriptorCommand","FlUtils","Change","ElementUtil","Log","PersistenceWriteAPI","LREPSerializer","extend","metadata","library","associations","rootControl","type","properties","commandStack","aggregations","getRootControlInstance","vRootControl","getElementInstance","prototype","_lastPromise","Promise","resolve","setCommandStack","oCommandStack","this","getCommandStack","removeCommandExecutionHandler","_fnHandleCommandExecuted","setProperty","addCommandExecutionHandler","init","handleCommandExecuted","bind","exit","_isPersistedChange","oPreparedChange","_aPersistedChanges","indexOf","getId","oEvent","oParams","catch","then","aCommands","getSubCommands","command","undo","aRemovePromises","forEach","oCommand","getRuntimeOnly","oChange","getPreparedChange","oAppComponent","getAppComponent","push","remove","change","selector","all","aDescriptorCreateAndAdd","getState","states","DELETED","setState","NEW","add","createAndStoreChange","needsReload","getAllExecutedCommands","some","saveCommands","mPropertyBag","oError","error","oRootControl","getRootControl","Error","save","skipUpdateCache","draft","saveAsDraft","layer","removeOtherLayerChanges","version","info","removeAllCommands","_triggerUndoChanges","aPromises","reverse","execPromiseQueueSequentially","clearCommandStack","detachCommandExecuted","attachCommandExecuted"],"sources":["LREPSerializer-dbg.js"],"mappings":"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"}