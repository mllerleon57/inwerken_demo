{"version":3,"file":"FocusHandler.js","names":["sap","ui","define","BaseObject","Log","jQuery","_ready","Element","Core","FocusHandler","extend","constructor","apply","this","oCurrent","oLast","aEventQueue","oLastFocusedControlInfo","oPatchingControlFocusInfo","fnEventHandler","onEvent","bind","then","oRootRef","document","body","addEventListener","debug","type","id","prototype","getCurrentFocusedControlId","oControl","$Act","activeElement","is","require","closestTo","err","getId","getControlFocusInfo","sControlId","getControlById","control","info","getFocusInfo","getMetadata","getName","focusref","getFocusDomRef","storePatchingControlFocusInfo","oDomRef","oActiveElement","contains","patching","getPatchingControlFocusInfo","updateControlFocusInfo","restoreFocus","oControlFocusInfo","oInfo","oFocusRef","preserved","applyFocusInfo","destroy","event","data","removeEventListener","oBrowserEvent","oEvent","fix","target","push","controlId","getControlIdForDOM","length","processEvent","onfocusEvent","onblurEvent","shift","triggerFocusleave","setTimeout","checkForLostFocus","trackFocusForPreservedElement","oCandidate","oDOM","sId","closest","attr","sRelatedControlId","Event","getDomRef","oRelatedControl","relatedControlId","relatedControlFocusInfo","oControlUIArea","getUIArea","oUiArea","oPopupUIAreaDomRef","getStaticAreaRef","_handleEvent","registry","get"],"sources":["FocusHandler-dbg.js"],"mappings":"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"}