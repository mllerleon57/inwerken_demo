/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/dom/jquery/zIndex","sap/ui/dom/jquery/scrollLeftRTL"],function(jQuery,e){"use strict";var t={};t.getSize=function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}};t.getOffsetFromParent=function(r,o){var l=o?jQuery(o):null;var i=l?l.scrollTop():null;var n=o?t.getScrollLeft(o):null;var a=l?l.offset():null;var s={left:r.position.left,top:r.position.top};if(a){s.left-=a.left-(n||0);s.top-=a.top-(i||0)}if(sap.ui.getCore().getConfiguration().getRTL()){var c=l?l.outerWidth():jQuery(window).outerWidth();if(e.browser.safari&&!e.browser.mobile&&t.hasVerticalScrollBar(l)){s.left-=t.getScrollbarWidth()}s.left=s.left-(c-r.size.width)}return s};t.getScrollLeft=function(e){if(!sap.ui.getCore().getConfiguration().getRTL()||!t.hasHorizontalScrollBar(e)){return jQuery(e).scrollLeft()}var r=jQuery(e).scrollLeftRTL();var o=e.scrollWidth-e.clientWidth;return r-o};t.getZIndex=function(e){var t;var r=jQuery(e);if(r.length){t=r.zIndex()||r.css("z-index")}return t};t._getElementDimensions=function(e,t,r){var o=e[0]||e;var l=o["offset"+t];var i=0;for(var n=0;n<2;n++){var a=window.getComputedStyle(o,null)["border"+r[n]+t];i-=a?parseInt(a.slice(0,-2)):0}return l+i};t._getElementWidth=function(e){return t._getElementDimensions(e,"Width",["Right","Left"])};t._getElementHeight=function(e){return t._getElementDimensions(e,"Height",["Top","Bottom"])};t.hasVerticalScrollBar=function(e){var r=jQuery(e);var o=r.css("overflow-y")==="auto"||r.css("overflow-y")==="scroll";return o&&r.get(0).scrollHeight>t._getElementHeight(e)};t.hasHorizontalScrollBar=function(e){var r=jQuery(e);var o=r.css("overflow-x")==="auto"||r.css("overflow-x")==="scroll";return o&&r.get(0).scrollWidth>t._getElementWidth(e)};t.hasScrollBar=function(e){return t.hasVerticalScrollBar(e)||t.hasHorizontalScrollBar(e)};t.getScrollbarWidth=function(){if(typeof t.getScrollbarWidth._cache==="undefined"){var e=jQuery("<div></div>").css({position:"absolute",top:"-9999px",left:"-9999px",width:"100px"}).appendTo("body");var r=e.width();e.css("overflow","scroll");var o=jQuery("<div></div>").css("width","100%").appendTo(e);var l=o.width();e.remove();t.getScrollbarWidth._cache=r-l}return t.getScrollbarWidth._cache};t.getOverflows=function(e){var t=jQuery(e);return{overflowX:t.css("overflow-x"),overflowY:t.css("overflow-y")}};t.getGeometry=function(e,t){if(e){var r=jQuery(e).offset();if(t){r.left=r.left-jQuery(window).scrollLeft();r.top=r.top-jQuery(window).scrollTop()}return{domRef:e,size:this.getSize(e),position:r,visible:this.isVisible(e)}}};t.syncScroll=function(e,t){var r=jQuery(t);var o=r.scrollTop();var l=r.scrollLeft();var i=jQuery(e);var n=i.scrollTop();var a=i.scrollLeft();if(n!==o){r.scrollTop(n)}if(a!==l){r.scrollLeft(a)}};t.getDomRefForCSSSelector=function(e,t){if(t&&e){var r=jQuery(e);if(t===":sap-domref"){return r}if(t.indexOf(":sap-domref")>-1){return r.find(t.replace(/:sap-domref/g,""))}return r.find(t)}return jQuery()};t.isVisible=function(e){if(e){var t=e.getBBox&&e.getBBox();var r=t?t.width:e.offsetWidth;var o=t?t.height:e.offsetHeight;return r>0&&o>0}return false};t.setDraggable=function(e,t){e.setAttribute("draggable",t)};t.getDraggable=function(e){switch(e.getAttribute("draggable")){case"true":return true;case"false":return false;default:return}};t._copyStylesTo=function(e,t){var r="";var o="";var l=e.length;for(var i=0;i<l;i++){o=e[i];r=r+o+":"+e.getPropertyValue(o)+";"}t.style.cssText=r};t._copyPseudoElement=function(e,r,o){var l=window.getComputedStyle(r,e);var i=l.getPropertyValue("content");if(i&&i!=="none"){i=String(i).trim();if(i.indexOf("attr(")===0){i=i.replace("attr(","");if(i.length){i=i.substring(0,i.length-1)}i=r.getAttribute(i)||""}var n=jQuery("<span></span>");if(e===":after"){n.appendTo(o)}else{n.prependTo(o)}n.text(i.replace(/(^['"])|(['"]$)/g,""));t._copyStylesTo(l,n.get(0));n.css("display","inline")}};t.copyComputedStyle=function(e,r){e=jQuery(e).get(0);r=jQuery(r).get(0);var o=window.getComputedStyle(e);if(o.getPropertyValue("display")==="none"){r.style.display="none";return}t._copyStylesTo(o,r);this._copyPseudoElement(":after",e,r);this._copyPseudoElement(":before",e,r)};t.copyComputedStyles=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);for(var r=0;r<e.children.length;r++){this.copyComputedStyles(e.children[r],t.children[r])}jQuery(t).removeClass();jQuery(t).attr("id","");jQuery(t).attr("role","");jQuery(t).attr("data-sap-ui","");jQuery(t).attr("for","");jQuery(t).attr("tabindex",-1);this.copyComputedStyle(e,t)};t.cloneDOMAndStyles=function(e,t){e=jQuery(e).get(0);var r=e.cloneNode(true);this.copyComputedStyles(e,r);jQuery(t).append(r)};t.contains=function(e,t){var r=document.getElementById(e);return!!r&&r.contains(t)};t.appendChild=function(e,t){var r=t.scrollTop;var o=jQuery(t).scrollLeft();e.appendChild(t);t.scrollTop=r;jQuery(t).scrollLeft(o)};t.focusWithoutScrolling=function(t){if(e.browser.name!=="ie"){t.focus({preventScroll:true});return}var r=[];var o=t.parentNode;while(o){r.push([o,jQuery(o).scrollLeft(),o.scrollTop]);o=o.parentNode}t.focus();r.forEach(function(e){var t=e[0];if(jQuery(t).scrollLeft()!==e[1]){jQuery(t).scrollLeft(e[1])}if(t.scrollTop!==e[2]){t.scrollTop=e[2]}})};return t},true);
//# sourceMappingURL=DOMUtil.js.map