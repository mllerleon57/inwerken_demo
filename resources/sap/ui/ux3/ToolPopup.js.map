{"version":3,"file":"ToolPopup.js","names":["sap","ui","define","jQuery","Control","IconPool","Popup","Parameters","RenderManager","library","ToolPopupRenderer","ResizeHandler","coreLibrary","assert","Log","OpenState","ToolPopup","extend","metadata","deprecated","interfaces","properties","title","type","group","defaultValue","icon","iconHover","iconSelected","modal","inverted","autoClose","maxHeight","maxWidth","openDuration","closeDuration","defaultAggregation","aggregations","buttons","multiple","singularName","content","associations","initialFocus","opener","defaultButton","events","open","close","allowPreventDefault","enter","parameters","originalEvent","originalSrcControl","iconChanged","closed","opened","ARROW_LEFT","RegExp","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","prototype","init","this","oPopup","_bPositionSet","_mParameters","that","firstFocusable","getId","lastFocusable","_bFocusSet","_proxyOpened","proxy","fnPopupOpened","_proxyClosed","fnOnClosed","_proxyFixSize","fnFixSize","_proxyOnResize","fnOnResize","fnSetArrowDimensions","exit","detachOpened","detachClosed","destroy","_bPreventRestoreFocus","_bRTL","_sArrowDir","_oArrowIcon","_bThemeInverted","_sInitialFocusId","_fnGetInitialFocus","context","_fnGetNewFocusElement","oElement","oFocusControl","defaultFocusableElements","aTabbables","$","get","i","length","indexOf","id","control","oFocusDomRef","getFocusDomRef","window","document","getElementById","focus","_fnGetFocusControlById","oToolPopup","oControl","parent","getCore","byId","parentNode","domRefId","focusElement","getDomRef","onfocusin","oEvent","event","$FocusablesContent","$FocusablesFooter","focusTabChain","$This","iValue","sMaxHeight","getMaxHeight","iMaxHeight","parseInt","sMaxWidth","getMaxWidth","iMaxWidth","sBorderLeft","css","iBorderLeft","sBorderRight","iBorderRight","sPaddingLeft","iPaddingLeft","sPaddingRight","iPaddingRight","sPaddingTop","iPaddingTop","sPaddingBottom","iPaddingBottom","sBorderTop","iBorderTop","sBorderBottom","iBorderBottom","iPaddings","iScrollTop","scrollTop","oThisRect","rect","iBottomEnd","top","outerHeight","iWinHeight","height","bTooHigh","iYOffset","$Opener","getOpener","oOpenerRect","iOpenerBottom","aOffset","_getPositionOffset","Math","abs","sMessage","warning","toggleClass","$Title","$TitleSep","$Buttons","$ButtonsSep","$Content","fnSetArrow","sInitFocusId","getCurrentFocusedControlId","trigger","_sResizeID","register","fireOpened","isOpen","getOpenState","willBeClosed","eState","OPENING","OPEN","my","at","_my","_at","fnGetArrowDirection","$OpenerRef","sOffset","fnUpdateThemeInverted","iOffsetX","iOffsetY","Dock","BeginTop","EndTop","iArrowWidth","setPosition","_ensurePopup","bAutoClose","getAutoClose","bModal","getModal","setAutoClose","setModal","_oPreviousFocus","getCurrentFocusInfo","fireOpen","fnCheckOpener","getOpenDuration","oThis","sId","_oPosition","of","core","Element","setAssociation","error","mParams","Object","assign","sapUiUx3ToolPopupArrowWidth","sapUiUx3ToolPopupArrowHeight","sapUiUx3ToolPopupArrowRightMarginCorrection","sapUiUx3ToolPopupArrowRightMarginCorrectionInverted","name","callback","invalidate","sParam","sArrowWidth","sArrowHeight","iArrowHeight","sArrowPadding","iArrowPadding","sArrowPaddingInverted","iArrowPaddingInverted","sDirection","_bHorizontalArrow","aMy","split","aAt","sRule","exec","oPopRect","iPopRight","left","outerWidth","iOpenerRight","iPopBottom","sKey","iVal","iZero","iHalfArrow","isRTL","getConfiguration","getRTL","sArrowDir","oOpener","popupBorder","$Arrow","round","width","sClassAttr","hasClass","isInverted","attr","iWidth","right","onsapescape","fireClose","applyFocusInfo","preserveContent","remove","fireClosed","bPreventRestoreFocus","deregister","getCloseDuration","getEnabled","CLOSED","onsapenter","sInitFocus","getDefaultButton","oFocusCtrl","contains","commons","Button","$FocusCtrl","preventDefault","stopPropagation","onBeforeRendering","sInitialFocusId","getInitialFocus","sDefaultButtontId","setInitialFocusId","attachOpened","attachClosed","_applyPosition","apply","arguments","_oLastPosition","$of","getContent","fnChangeContent","sType","fnRenderContent","fnRenderButtons","oContentDomRef","innerHTML","aContent","rm","createRenderManager","renderControl","flush","oButtons","oSeparator","aButtons","getButtons","addClass","removeClass","addContent","oContent","addAggregation","insertContent","index","insertAggregation","removeContent","removeAggregation","addButton","oButton","insertButton","removeButton","_sParam","onThemeChanged","getInverted","setAutoCloseAreas","aAutoCloseAreas","addFocusableArea","sID","_addFocusableArea","removeFocusableArea","_removeFocusableArea","setIcon","sIcon","setProperty","fireIconChanged","setIconHover","sIconHover","setIconSelected","sIconSelected","getIconSelected","getProperty","setMaxWidth","pattern","test"],"sources":["ToolPopup-dbg.js"],"mappings":"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"}