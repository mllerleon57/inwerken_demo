{"version":3,"file":"KeyboardDelegate.js","names":["sap","ui","define","TableUtils","library","BaseObject","Device","KeyCodes","jQuery","CellType","CELLTYPE","SelectionMode","ModKey","CTRL","SHIFT","ALT","HORIZONTAL_SCROLLING_PAGE_SIZE","COLUMN_RESIZE_STEP_CSS_SIZE","preventItemNavigation","oEvent","bPrevent","setMarked","handleNavigationEvent","getCellInfo","target","isOfType","ANY","preventDefault","stopPropagation","KeyboardDelegate","extend","constructor","sType","call","this","destroy","prototype","apply","arguments","getInterface","navigateDown","oTable","_canNavigateUpOrDown","oCellInfo","getCell","ANYCOLUMNHEADER","_navigateDownOnHeader","ANYCONTENTCELL","_navigateDownOnContent","iHeaderRowCount","getHeaderRowCount","isNoDataVisible","oFocusInfo","getFocusedItemInfo","row","COLUMNROWHEADER","focusItem","getVisibleColumnCount","oKeyboardExtension","_getKeyboardExtension","bActionMode","isInActionMode","bCtrlKeyPressed","_isKeyCombination","bActionModeNavigation","$ParentCell","getParentCell","trigger","isLastScrollableRow","cell","bScrolled","scrollDown","rowIndex","getRows","length","oCreationRow","getCreationRow","_takeOverKeyboardHandling","setActionMode","focusCell","type","columnIndex","navigateUp","isFirstScrollableRow","scrollUp","ROWACTION","isMarked","window","HTMLInputElement","HTMLTextAreaElement","navigateLeft","bIsRTL","getCore","getConfiguration","getRTL","COLUMNHEADER","oFocusedItemInfo","iFocusedColumn","cellInRow","hasRowHeader","iColumnCount","hasRowActions","bPage","fnFocus","bScrolledToEnd","_getFirstRenderedRowIndex","_getMaxFirstRenderedRowIndex","_scroll","bScrolledToTop","bDown","bAllowSapFocusLeave","DATACELL","setSilentFocus","getDomRef","setTimeout","_getScrollExtension","scrollVertically","attachEventOnce","scrollDownAndFocus","mRowCounts","_getRowCounts","_setFocusNext","fixedTop","scrollable","fixedBottom","iRowIndex","oRow","bRowHasInteractiveRowHeader","isGroupHeader","isRowSelectorSelectionAllowed","ROWHEADER","$InteractiveElement","_getFirstInteractiveElement","_focusElement","getIndex","_getTotalRowCount","scrollUpAndFocus","_setFocusPrevious","_getLastInteractiveElement","restoreFocusOnLastFocusedDataCell","oLastInfo","getLastFocusedCellInfo","columnCount","setFocusOnColumnHeaderOfLastFocusedDataCell","forwardFocusToTabDummy","sTabDummyCSSClass","$","find","vKey","modifierKeyMask","eventKey","String","fromCharCode","charCode","keyCode","eventModifierKeyMask","os","macintosh","metaKey","ctrlKey","CONTROL","shiftKey","altKey","bValidKey","bValidModifierKeys","getRowByDomRef","oDomRef","$Cell","handleSpaceAndEnter","_getSelectionPlugin","onHeaderSelectorPress","_allowsToggleExpandedState","toggleExpandedState","selectItems","bEnterActionMode","hasListeners","_findAndfireCellEvent","fireCellClick","isRowSelectionAllowed","$InteractiveElements","getInteractiveElements","_doSelect","_legacyMultiSelection","toggleRowSelection","moveColumn","oColumn","bNext","getParent","aVisibleColumns","_getVisibleColumns","iIndexInVisibleColumns","indexOf","iTargetIndex","indexOfColumn","Column","moveColumnTo","getColumnIndexInVisibleAndGroupedColumns","aVisibleAndGroupedColumns","getColumns","filter","getVisible","getGrouped","i","oVisibleOrGroupedColumn","oElement","bSilentFocus","focus","select","iCellType","iColumnIndex","bFirstInteractiveElement","bAllowActionMode","oCell","setFocus","iColumnIndexInCellsAggregation","_bStayInActionMode","isTreeIcon","classList","contains","Grouping","isInGroupHeaderRow","isInTreeMode","querySelector","_isElementInteractive","is","INTERACTIVE_ELEMENT_SELECTORS","oElem","getFirstInteractiveElement","aCells","getCells","push","getRowAction","last","_getPreviousInteractiveElement","$Element","oCellContent","iColumnIndexToStartSearch","eq","index","_getNextInteractiveElement","get","first","startRangeSelectionMode","iFocusedRowIndex","getRowIndexOfFocusedCell","iDataRowIndex","oSelectionPlugin","_oRangeSelection","startIndex","selected","isIndexSelected","enterActionMode","oActiveElement","document","activeElement","suspendItemNavigation","tabIndex","leaveActionMode","bAdjustFocus","resumeItemNavigation","oItemNavigation","_getItemNavigation","aItemDomRefs","iFocusedIndex","setFocusedIndex","onfocusin","$Target","hasClass","getShowOverlay","bNoData","getColumnHeaderVisible","bIsRowHeaderCellInGroupHeaderRow","bIsRowSelectorCell","bCellAllowsActionMode","bParentIsAContentCell","bIsInteractiveElement","bIsInActionMode","bShouldBeInActionMode","onkeydown","sSelectionMode","getSelectionMode","F2","bIsInCell","F4","SPACE","MultiToggle","A","onKeyboardShortcut","onkeypress","expand","collapse","oncontextmenu","Menu","openContextMenu","onkeyup","ENTER","onsaptabnext","$LastInteractiveElement","bIsLastInteractiveElementInRow","iAbsoluteRowIndex","bIsLastScrollableRow","bIsAbsoluteLastRow","bTableHasRowSelectors","iRenderedRowCount","bRowIsGroupHeaderRow","onsaptabprevious","$FirstInteractiveElement","bIsFirstInteractiveElementInRow","bIsFirstScrollableRow","bIsAbsoluteFirstRow","onsapdown","onsapdownmodifiers","onsapup","onsapupmodifiers","onsapleft","onsapleftmodifiers","bFocusOnFirstDataCell","iResizeDelta","convertCSSSizeToPixel","iColumnSpanWidth","columnSpan","getColumnWidth","resizeColumn","onsaprightmodifiers","onsaphome","iFocusedCellInRow","iFixedColumnCount","getComputedFixedColumnCount","bHasRowHeader","iRowHeaderOffset","hasFixedColumns","onsapend","bIsColSpanAtFixedAreaEnd","iColSpan","parseInt","attr","onsaphomemodifiers","iFocusedRow","getNonEmptyRowCount","scrollVerticallyMax","onsapendmodifiers","iNonEmptyRowCount","onsappageup","iPageSize","iRowsToBeScrolled","getFirstVisibleRow","onsappagedown","onsappageupmodifiers","onsappagedownmodifiers","iVisibleColumnCount","onsapenter"],"sources":["KeyboardDelegate-dbg.js"],"mappings":"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"}