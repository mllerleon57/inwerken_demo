{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","jQuery","Log","SELECTION_DIRECTION","NEXT","PREVIOUS","CSS_CLASS","CellSelector","extend","metadata","library","properties","events","prototype","onActivate","oControl","addDelegate","this","_oSession","oCanvas","sScrollEvent","getConfig","attachEvent","_handleScroll","onDeactivate","removeDelegate","detachEvent","getSelectedCells","_bSelecting","oNormalizedBounds","getNormalizedBounds","mSource","mTarget","oSelection","iRow","from","rowIndex","to","oRowContext","getControl","aColumns","iCol","colIndex","oColumn","push","rowContext","columnIndices","onsapspace","oEvent","isMarked","error","oTarget","target","oCellInfo","mStart","_selectCells","info","focus","preventDefault","setMarked","onsapnext","onsapprevious","_clearSelection","onsaphome","onsapend","onsapnextmodifiers","_selectNextCell","onsappreviousmodifiers","valueOf","bIsPrevious","iDirectionIndex","shiftKey","_isInSelectionArea","oFocusCellInfo","mFrom","Object","assign","mTo","sKeyCode","ARROW_UP","ARROW_DOWN","iDirection","sType","keyCode","direction","onsapspacemodifiers","Infinity","boundaryChange","ctrlKey","metaKey","onsaphomemodifiers","onsapendmodifiers","onkeydown","isKeyCombination","A","onkeyup","oFocusInfo","bInArea","aRows","getRows","getIndex","length","oOptions","aCells","_savePreviousSelectionAreas","_eraseSelection","mBounds","cells","_drawSelection","bounds","borderOptions","aSelectionAreas","forEach","oArea","iIndex","oTableDomRef","getDomRef","container","oFromDomRef","oToDomRef","mFromRect","mToRect","oTableRect","oStyle","getBoundingClientRect","mOffsetLeft","hasOffset","left","Math","min","top","width","max","right","height","bottom","noBorderTop","noBorderBottom","noBorderRight","noBorderLeft","_drawSelectionArea","bind","oTargetStyle","sContainer","document","createElement","className","isConnected","append","style","display","borderTop","borderBottom","borderRight","borderLeft","values","entries","aEntries","previousSelection","parseFloat","bShift","bCtrl","setConfigs","selectableCells","scrollEvent","isSelectionEnabled","getSelectionBehavior","getSelectionMode","getCellRef","oTable","mPosition","oRow","_getRowByIndex","_getColumns","oCell","getCells","$","closest","getCellInfo","getSelectionAreas","aAreas","iFixedColumnCount","getFixedColumnCount","iToCol","mFixedFrom","mFixedTo","selectCells","mSelectionBounds","oBorderOptions","_getTotalRowCount","_focusCell","iFirstRow","getFirstVisibleRow","getFixedRowCount","iLastRowIndex","getVisibleRowCount","getFixedBottomRowCount","iLowerFixedLimit","aVisibleColumns","oCellDomRef","control","indexOf","byId","getAttribute","contextByIndex","iRowIndex","getContextByIndex","columnByIndex","iColIndex","getVisible","isNavigatableCell","_scrollRow","setFirstVisibleRow","oCellRef","getColumns","filter","shouldRender","aItems","i"],"sources":["CellSelector-dbg.js"],"mappings":"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"}